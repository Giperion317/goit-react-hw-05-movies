{"version":3,"file":"static/js/movie-full-info-page.9139008d.chunk.js","mappings":"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","sources":["pages/MovieFullInfoPage.jsx","services/moviesApi.js"],"sourcesContent":["import { useState, useEffect, Suspense } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Link, Outlet, useNavigate, useLocation } from 'react-router-dom';\nimport { fetchMovieFullInfo } from 'services/moviesApi';\nimport { Loader } from 'components/Loader/Loader';\n\nconst MovieFullInfoPage = () => {\n  const [movie, setMovie] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const { movieId } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {\n    setIsLoading(true);\n    fetchMovieFullInfo(movieId)\n      .then(setMovie)\n      .catch(error => {\n        console.log(error.message);\n      }).finally(() => {\n        setIsLoading(false);\n      });\n  }, [movieId]);\n\n  const getVideo = () => {\n    const videos = movie.videos.results;\n    return videos.find(video => video.type === 'Trailer')\n      ? videos.find(video => video.type === 'Trailer').key\n      : videos[0].key;\n  };\n  return (\n    <section>\n      {isLoading && <Loader />}\n      {!isLoading && movie && (\n        <>\n          <button\n            type=\"button\"\n            onClick={() => {\n              navigate(location?.state?.from ?? '/');\n            }}\n          >\n            Go back\n          </button>\n          <img\n            src={'https://image.tmdb.org/t/p/original' + movie.poster_path}\n            alt={movie.original_title}\n            width=\"300\"\n          />\n          <h1>{movie.original_title}</h1>\n          <p>User Score: {movie.vote_average}</p>\n          <h2>Overview</h2>\n          <p>{movie.overview}</p>\n          <h3>Genres</h3>\n          <p>{movie.genres.map(genre => genre.name).join(' ')}</p>\n          <iframe src={`https://www.youtube.com/embed/${getVideo()}`}\n            title={movie.original_title}\n            frameBorder=\"0\"\n            allowFullScreen></iframe>\n          <hr />\n          <Link to={`cast`} state={location.state}>\n            Cast\n          </Link>\n          <Link to={`reviews`} state={location.state}>\n            Revievs\n          </Link>\n          <hr />\n          <Suspense fallback={<Loader />}>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n</section>\n  );\n};\n\nexport default MovieFullInfoPage;\n","import axios from 'axios';\n\nconst API_KEY = 'abb31a7bed98d036dc34aaa5b39687ea';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport async function fetchMovies() {\n  const response = await axios('trending/movie/day', {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response.data.results;\n}\n\nexport async function fetchMovieFullInfo(id) {\n  const response = await axios(`/movie/${id}`, {\n    params: {\n      api_key: API_KEY,\n      append_to_response: 'videos',\n    },\n  });\n  return response.data;\n}\n\nexport async function fetchMovieCast(id) {\n  const response = await axios(`/movie/${id}/credits`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response.data;\n}\n\nexport async function fetchMovieReviews(id) {\n  const response = await axios(`/movie/${id}/reviews`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response.data;\n}\n\nexport async function fetchMoviesSearch(query) {\n  const response = await axios('/search/movie', {\n    params: {\n      api_key: API_KEY,\n      query,\n    },\n  });\n  return response.data.results;\n}\n"],"names":["useState","movie","setMovie","isLoading","setIsLoading","movieId","useParams","navigate","useNavigate","location","useLocation","useEffect","fetchMovieFullInfo","then","catch","error","console","log","message","finally","type","onClick","state","from","src","poster_path","alt","original_title","width","vote_average","overview","genres","map","genre","name","join","videos","results","find","video","key","getVideo","title","frameBorder","allowFullScreen","to","Suspense","fallback","API_KEY","fetchMovies","axios","params","api_key","response","data","id","append_to_response","fetchMovieCast","fetchMovieReviews","fetchMoviesSearch","query"],"sourceRoot":""}